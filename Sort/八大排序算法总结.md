# 排序

## 1.介绍
### 分类
排序大的分类可以分为两种，内排序和外排序。在排序过程中，全部记录存放在内存，则称为内排序，如果排序过程中需要使用外存，则称为外排序。主要需要理解的都是内排序算法:
* 插入排序:直接插入排序、希尔排序、二分插入排序

* 选择排序:简单选择排序、堆排序

* 交换排序:冒泡排序、快速排序

* 归并排序:

* 基数排序:


性能对比

稳定性:就是能保证排序前两个相等的数据其在序列中的先后位置顺序与排序后它们两个先后位置顺序相同。即如果Ai = Aj,Ai原来在Aj位置前，排序后Ai仍然是在Aj位置前。

* 不稳定：简单选择排序、快速排序、希尔排序、堆排序不是稳定的排序算法

* 稳定：冒泡排序、直接插入排序、二分插入排序、归并排序和基数排序都是稳定的排序算法.

时间复杂度：一个算法执行所耗费的时间。

* O(nlog(n)):快速排序、归并排序、希尔排序、堆排序

* O(n^2):直接插入排序、简单选择排序、冒泡排序

* O(n):桶、箱、基数排序

空间复杂度：运行完一个程序所需要的内存大小

> 快速排序是目前基于比较的内部排序中最好的方法，其次是归并排序和希尔排序，堆排序在数据量很大时效果明显。当数据是随机分布是快速排序的平均时间最短。

![图1](https://github.com/HYQ2018/DataStructure/blob/master/Sort/conclue.png)


排序方法的选择：
1.数据规模很小：（插入、简单选择、冒泡）
* 数据基本有序时，可选用直接插入排序。
* 数据无序时，对稳定性不做要求可用简单选择排序。对稳定性有要求可用插入排序或冒泡排序。

2.数据规模一般(快速排序、归并排序)
*完全可以用内存空间，序列杂乱无序，对稳定性没有要求，用快速排序，但要付出log(N)的额外空间。
*序列本身可能有序，对稳定性有要求，空间允许下，可用归并排序。

3.数据规模很大（归并排序、桶）
* 对稳定性有要求，则可用用归并排序
* 对稳定性没要求，宜用堆排序

4.待排序序列基本有序：使用直接插入、冒泡

## 2.插入排序
  基本思想：一次遍历元素，在已排序的序列中找到合适的位置将当前的遍历的元素插入，直到所有元素都已排序。
  
  方法：直接插入排序、二分插入排序、希尔排序
 
 ### 2.1直接插入排序
 
 算法：
 * <1>从第一个元素开始，该元素可以认为已经排好序。
 * <2>取下一个元素，在已排序的序列从后先前扫描。
 * <3>找到一个位置插入该元素使得新序列有序：如果已排序元素大于新元素，则将该已排序元素后移。直到找到已排序的元素小于新元素，插入该位置。
 * <4>重复步骤2~3。
 
 时间复杂度：平均情况下O(n^2)
 * 最好情况：正序有序（[1,2,3,4,5,6,7,8,9]）.只需要比较n次,不需要移动。时间复杂度O(n)
 * 最坏情况：逆序有序([9,8,7,6,5,4,3,2,1]).这样每一个元素就需要比较n次，共n个元素，因此实际复杂度为O(n^2).
 
 * 稳定性：稳定。由算法思想易知，反向遍历已排序元素，若已排序元素小于等于当前元素，则将当前元素插入该已排序元素后的位置，因此相对顺序不变，插入排序是稳定的。

```
 #python实现
 def insert_sort(x):
    N = len(x)
    for i in range(1,N):
		j = i - 1
		key = x[i]
		while j>=0 and x[j] > key:
			x[j+1] = x[j]
			j = j -1
		x[j+1] = key
```
 


### 希尔排序(shell sort)
基本思想：希尔排序也是一种插入排序方法，实际上是一种分组插入排序方法。先取定一个小雨n的整数d1作为第一个增量，这样可以把表的全部记录分为d1组：所有距离为d1的倍数的记录放在同一个组中，在各组内进行直接插入排序；然后，取第二个增量d2(<d1),重复上述分组和排序，直至所取的增量dt=1(dt<dt-1<dt-2<...<d1),即所有记录放在同一组中进行直接插入排序。

希尔排序的核心在于间隔序列的设定。既可以提前设定好间隔序列，也可以动态的定义间隔序列。

时间复杂度：平均情况下(O(N*log(N)).
*最好情况：由于希尔排序的好坏和步长d的选择（di到di+1的选择策略）有很多关系，因此，目前还没有得出最好的步长如何选择(现在有些比较好的选择了，但不确定是否是最好的)。所以，不知道最好的情况下的算法时间复杂度。  
*最坏情况：O(N*logN)，最坏的情况下和平均情况下差不多。 
